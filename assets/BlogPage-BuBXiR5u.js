import{r as i,u as v,a as c,g as f,b,c as N,d as y,j as e,L as x,f as h}from"./index-C2ouFS6a.js";const M=()=>{const[g,m]=i.useState(!1),[a,p]=i.useState("grid"),l=v(),{categoryBlogs:n}=c(s=>s.blogCategories),{blogs:r,loading:w,error:k,blogRecentlyAdded:o,tags:d}=c(s=>s.blogPosts);i.useEffect(()=>{l(f()),l(b()),l(N()),l(y({limit:1e3,page:1}))},[l]),i.useEffect(()=>{const s=()=>{const t=document.getElementById("sidebar");if(t){const u=t.getBoundingClientRect().top;m(u<=0)}};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const j=()=>{p(s=>s==="grid"?"list":"grid")};return e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"bg-green-500 text-white px-4 py-2 rounded-full flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"Filter"]}),e.jsxs("button",{onClick:j,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-full flex items-center gap-2 hover:bg-gray-300 transition-colors",children:[a==="grid"?e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 10h16M4 14h16M4 18h16"})}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),a==="grid"?"List View":"Grid View"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-gray-500",children:"Sort by:"}),e.jsxs("select",{className:"border rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{children:"Latest"}),e.jsx("option",{children:"Oldest"}),e.jsx("option",{children:"Most Popular"})]})]})]}),e.jsx("div",{className:"mt-4 text-gray-500",children:r?`${r.length} Results Found`:"Loading..."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{id:"sidebar",className:"lg:col-span-1",children:e.jsxs("div",{className:`space-y-8 ${g?"lg:sticky lg:top-4":""}`,children:[e.jsx("div",{children:e.jsx("input",{type:"search",placeholder:"Search...",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Top Categories"}),e.jsx("div",{className:"space-y-2",children:n&&n.map(s=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:s.name}),e.jsxs("span",{className:"text-gray-500",children:["(",s.posts.length,")"]})]},s.name))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Popular Tag"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d&&d.map(s=>e.jsx("span",{className:`px-3 py-1 text-sm rounded-full cursor-pointer
                    ${s==="Low fat"?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s},s))})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Recently Added"}),e.jsx("div",{className:"space-y-4",children:o&&o.map((s,t)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:"http://localhost:4000/"+s.image||"/placeholder.svg",alt:s.title,width:80,height:80,crossOrigin:"anonymous",className:"rounded-lg"}),e.jsxs("div",{children:[e.jsx(x,{to:`/blog/${s.post_id}`,className:"font-medium hover:text-blue-600 transition-colors",children:s.title}),e.jsx("p",{className:"text-sm text-gray-500",children:h(s.createdAt)})]})]},t))})]})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:a==="grid"?"grid grid-cols-1 md:grid-cols-2 gap-6":"space-y-6",children:r&&r.map((s,t)=>e.jsxs("div",{className:`bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow ${a==="list"?"flex":""}`,children:[e.jsxs("div",{className:`relative ${a==="list"?"w-1/3":""}`,children:[e.jsx("img",{src:"http://localhost:4000/"+s.image||"/placeholder.svg",crossOrigin:"anonymous",alt:"Blog post image",className:"w-full h-[200px] object-cover"}),e.jsxs("div",{className:"absolute top-4 left-4 bg-white rounded-lg px-3 py-1 text-center",children:[e.jsx("div",{className:"font-bold",children:new Date(s.createdAt).getDate()}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(s.createdAt).toLocaleString("default",{month:"short"}).toUpperCase()})]})]}),e.jsxs("div",{className:`p-6 ${a==="list"?"w-2/3":""}`,children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[e.jsx("span",{children:s.category.name}),e.jsx("span",{children:s.User.full_name}),e.jsx("span",{children:h(s.createdAt)})]}),e.jsx("h3",{className:"font-bold text-xl mb-3",children:s.title}),a==="list"&&e.jsx("div",{className:"space-y-12",dangerouslySetInnerHTML:{__html:s.content.substring(0,150)}}),e.jsxs(x,{to:`/blog/${s.post_id}`,className:"text-green-500 hover:text-green-600 transition-colors inline-flex items-center gap-2",children:["Read More",e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]},t))})})]})]})};export{M as default};
